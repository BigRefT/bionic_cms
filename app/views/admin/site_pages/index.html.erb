<% additional_script 'admin/page_map' %>
<h1>Site Pages</h1>
<%= render_region :top %>
<div class="list_content">
  <%= render_region :before_list %>
  <table class="list_table" id="page-map">
    <thead>
      <tr>
        <% render_region :list_headers do |list_headers| %>
          <% list_headers.title_column_header do %><th>Name</th><% end %>
          <% list_headers.type_column_header do %><th>Type</th><% end %>
          <% list_headers.status_column_header do %><th>Status</th><% end %>
          <% list_headers.actions_column_header do %><th>Actions</th><% end %>
        <% end %>
      </tr>
    </thead>
    <tbody>
      <% if @site_pages.length == 0 %>
        <tr><td colspan="<%= admin_interface.site_pages.index.list_data.length %>" class="no_entries">No Site Pages</td></tr>
      <% else %>
        <%= render :partial => 'site_page', :collection => @site_pages, :locals => {:level => 0} %>
      <% end %>
    </tbody>
  </table>
  <%= render_region :after_list %>
  <div class="action_row">
    <% render_region :action_row do |action_row| %>
      <% action_row.new_home_page do %>
        <%= link_to 'New Home Page', new_admin_site_page_path if @site_pages.length == 0 %>
      <% end %>
    <% end %>
  </div>
</div>
<%= render_region :bottom %>